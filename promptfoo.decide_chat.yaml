configVersion: 1
providers:
  - id: openai:gpt-4o-mini
    config:
      apiKey: ${OPENAI_API_KEY}
      temperature: 0.0
prompts:
  - file: generative_agents/data/prompts/decide_chat.txt

vars:
  context: ""
  date: "2025-10-18 17:00:00"
  chat_history: ""
  agent_status: "李雷 正要去会议室"
  another_status: "韩梅梅 已经在 使用浴室"
  agent: "李雷"
  another: "韩梅梅"

scenarios:
  - name: 可能会对话
    vars:
      context: "两人刚在走廊碰面，项目临近截止。"
      agent_status: "李雷 正要去会议室"
      another_status: "韩梅梅 正要去会议室"
  - name: 不太可能对话
    vars:
      context: "两人正在不同区域进行不同任务，且忙碌。"
      agent_status: "李雷 已经在 参加会议"
      another_status: "韩梅梅 已经在 使用浴室"

assertions:
  # 输出必须严格为“是”或“否”
  - type: javascript
    code: |
      const out = output.trim();
      const ok = out === "是" || out === "否";
      return ok ? true : { pass: false, reason: '输出必须为“是”或“否”' };