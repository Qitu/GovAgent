configVersion: 1
providers:
  - id: openai:gpt-4o-mini
    config:
      apiKey: ${OPENAI_API_KEY}
      temperature: 0.0
prompts:
  - file: generative_agents/data/prompts/decide_chat.txt

vars:
  context: ""
  date: "2025-10-18 17:00:00"
  chat_history: ""
  agent_status: "Police is heading to the meeting room"
  another_status: "Coordinator is currently coordinating logistics"
  agent: "Police"
  another: "Coordinator"

scenarios:
  - name: Likely to chat (Police and Coordinator)
    vars:
      context: "They just met in the corridor, coordination needed for upcoming event."
      agent_status: "Police is heading to the meeting room"
      another_status: "Coordinator is heading to the meeting room"
  - name: Unlikely to chat (Police and Crowd)
    vars:
      context: "They are in different areas on different tasks and both are busy."
      agent_status: "Police is already in a briefing"
      another_status: "Crowd is currently queueing at the entrance"

assertions:
  - type: javascript
    code: |
      const out = output.trim();
      const ok = out === "Yes" || out === "No";
      return ok ? true : { pass: false, reason: 'Output must be "Yes" or "No"' };